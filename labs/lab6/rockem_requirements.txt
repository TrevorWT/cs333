# rockem_requirements.txt

PROGRAMS TO IMPLEMENT
You must write two C programs:

1. rockem_server (from rockem_server.c)
2. rockem_client (from rockem_client.c)

Both programs must use functionality defined in rockem_hdr.h.

REQUIRED INCLUDES
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <pthread.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <fcntl.h>
#include "rockem_hdr.h"

PROHIBITED / RESTRICTED
- No subdirectories in submission tar.gz.
- No -std=... gcc options.
- No ports < 1024.
- Server and client must run from different directories.
- Code must compile with zero warnings using required flags.

ROCKEM_SERVER REQUIREMENTS
Command-line options:
-p #     port number
-u       add 1000 microseconds per occurrence
-v       increase verbosity per occurrence
-h       help and exit

Server behavior:
- Open listening socket.
- Support multiple concurrent clients.
- Each client handled by its own detached thread.

Interactive server commands:
exit
count
v+
v-
u+
u-
help

Server file operations:
- put: receive file to server directory with permissions S_IRUSR | S_IWUSR
- get: send file to client
- dir: use CMD_DIR_POPEN and popen()

ROCKEM_CLIENT REQUIREMENTS
Command-line options:
-p #
-i address
-c get|put|dir
-u
-v
-h

Client behavior:
- One thread per file for get/put.
- Each thread opens its own socket.
- put: send each file
- get: receive each file with S_IRUSR | S_IWUSR
- dir: request directory listing and exit on socket close

THREADING RULES
- Server: detached thread per client.
- Client: one thread per file.
- Each thread opens/closes its own socket.

SOCKET RULES
- Check all errors.
- Do not reuse sockets across transfers.

FILE PERMISSIONS
S_IRUSR | S_IWUSR

SLEEP REQUIREMENT
-u adds 1000 microseconds using usleep().

DIRECTORY LISTING
- Use CMD_DIR_POPEN and popen().

MAKEFILE REQUIREMENTS
Flags:
-Wall -Wshadow -Wunreachable-code
-Wredundant-decls -Wmissing-declarations
-Wold-style-definition -Wmissing-prototypes
-Wdeclaration-after-statement -Werror
-Wno-return-local-addr -Wunsafe-loop-optimizations
-Wuninitialized -Werror

Targets:
all
clean
rockem_server
rockem_client
rockem_server.o
rockem_client.o

SUBMISSION RULES
- One tar.gz only.
- No directories.
- Must compile cleanly.